{
    "name": "Centrální registr oznámení",
    "datasetId": "centralniregistroznameni",
    "origUrl": "https://cro.justice.cz/",
    "sourcecodeUrl": "https://github.com/vbar/ampelopsis",
    "description": null,
    "betaversion" : false,
    "allowWriteAccess" : true,
    "jsonSchema": {
	"description": "",
	"type": "object",
	"properties": {
	  "Id": {
	    "type": "string"
	  },
	  "wikidataId": {
	    "type": "string"
	  },
	  "Url": {
	    "type": "string"
	  },
	  "personUrl": {
	    "type": "string"
	  },
	  "HsProcessType": {
	    "type": "string"
	  },
	  "OsobaId": {
	    "type": "string"
	  },
	  "Birthdate": {
	    "type": "string",
	    "format": "date-time"
	  },
	  "titleBefore": {
	    "type": "string"
	  },
	  "Name": {
	    "type": "string"
	  },
	  "Surname": {
	    "type": "string"
	  },
	  "titleAfter": {
	    "type": "string"
	  },
	  "fullName": {
	    "type": "string"
	  },
	  "workingPositions": {
	    "type": "array",
	    "items": {
	      "properties": {
		"Id": {
		  "type": "string"
		},
		"ovmId": {
		  "type": "string"
		},
		"workingPosition": {
		  "type": "object",
		  "properties": {
		    "Id": {
		      "type": "string"
		    },
		    "created": {
		      "type": "string"
		    },
		    "updated": {
		      "type": "string"
		    },
		    "name": {
		      "type": "string"
		    },
		    "order": {
		      "type": "number"
		    },
		    "active": {
		      "type": "boolean"
		    },
		    "organization": {
		      "type": "object",
		      "properties": {
			"Id": {
			  "type": "string"
			},
			"created": {
			  "type": "string"
			},
			"name": {
			  "type": "string"
			},
			"order": {
			  "type": "number"
			},
			"active": {
			  "type": "boolean"
			}
		      }
		    },
		    "visibility": {
		      "type": "string"
		    },
		    "other": {
		      "type": "boolean"
		    },
		    "deputy": {
		      "type": "boolean"
		    },
		    "senator": {
		      "type": "boolean"
		    }
		  }
		},
		"organization": {
		  "type": "string"
		},
		"start": {
		  "type": "string"
		},
		"created": {
		  "type": "string"
		},
		"name": {
		  "type": "string"
		}
	      }
	    }
	  },
	  "statements": {
	    "type": "array",
	    "items": {
	      "properties": {
		"Id": {
		  "type": "string"
		},
		"canOpen": {
		  "type": "boolean"
		},
		"statementOfficial": {
		  "type": "object",
		  "properties": {
		    "titleBefore": {
		      "type": "string"
		    },
		    "firstName": {
		      "type": "string"
		    },
		    "lastName": {
		      "type": "string"
		    },
		    "titleAfter": {
		      "type": "string"
		    },
		    "visibility": {
		      "type": "string"
		    }
		  }
		},
		"type": {
		  "type": "string"
		},
		"creationDate": {
		  "type": "string"
		},
		"visibility": {
		  "type": "string"
		}
	      }
	    }
	  },
	  "active": {
	    "type": "boolean"
	  },
	  "concatenatedWorkingPositions": {
	    "type": "string"
	  },
	  "concatenatedWorkingPositionDates": {
	    "type": "string"
	  },
	  "concatenatedWorkingPositionOrganizations": {
	    "type": "string"
	  },
	  "hasRequestStatement": {
	    "type": "boolean"
	  },
	  "hasSecretStatement": {
	    "type": "boolean"
	  },
	  "judge": {
	    "type": "boolean"
	  },
	    "workingFrom": {
		"type": "string"
	  }
	}
    },
    "searchResultTemplate": {
	"body": "<table class=\"table table-hover\">
    <thead>
	<tr>
	    <th>ID</th>
	    <th>Osoba</th>
	    <th>Organizace</th>
	    <th>Funkce</th>
	</tr>
    </thead>
    <tbody>
      {{ for item in model.Result }}
	<tr>
	    <td><a href=\"/data/Detail/centralniregistroznameni/{{item.Id}}\">{{item.Id}}</a></td>
	    <td>
	      {{ if item.personUrl }}
		<a href=\"{{item.personUrl}}\">{{item.fullName}}</a>
	      {{ else }}
		{{item.fullName}}
	      {{ end }}
	    </td>
	    <td>{{item.concatenatedWorkingPositionOrganizations}}</td>
	    <td>{{item.concatenatedWorkingPositions}}</td>
	</tr>
      {{ end }}
    </tbody>
</table>"
    },
    "detailTemplate": {
	"body": "<table class=\"table\">
    <tbody>
	<tr>
	    <th>
	      {{ if model.OsobaId }}
		<a href=\"/osoba/{{model.OsobaId}}\">Osoba</a>
	      {{ else }}
		Osoba
	      {{ end }}
	    </th>
	    <td>
	      {{ if model.personUrl }}
		<a href=\"{{model.personUrl}}\">{{model.fullName}}</a>
	      {{ else }}
		{{model.fullName}}
	      {{ end }}
	    </td>
	</tr>
	<tr>
	    <th><a href=\"{{model.Url}}\">Zdrojová data</a></th>
	    <td><a href=\"https://cro.justice.cz/verejnost/funkcionari/form/{{model.Id}}\">https://cro.justice.cz/verejnost/funkcionari/form/{{model.Id}}</a></td>
	</tr>
    </tbody>
</table>
{{ for statement in model.statements | array.sort 'creationDate' }}
  <table class=\"table\">
      <thead>
	  <tr>
	      <th width=\"33%\">
		{{ case statement.type }}
		  {{ when 'INGOING' }}
		    Vstupní oznámení
		  {{ when 'ONGOING' }}
		    Průběžné oznámení
		  {{ when 'OUTGOING' }}
		    Výstupní oznámení
		  {{ when 'POINT3' }}
		    Oznámení podle Čl. II bodu 3 přechodného ustanovení zákona
		  {{ when 'POINT4' }}
		    Oznámení podle Čl. II bodu 4 přechodného ustanovení zákona
		  {{ else }}
		    {{statement.type}}
		{{ end }}
	      </th>
	      <td width=\"33%\">
		{{ date.format = '%F'; date.parse statement.creationDate | date.to_string '%d. %m. %Y' }}{{ if statement.fromDate || statement.toDate }}:
		  {{ date.parse statement.fromDate | date.to_string '%d. %m. %Y' }} -
		  {{ date.parse statement.toDate | date.to_string '%d. %m. %Y' }}
		{{ end }}
	      </td>
	      <td>
		{{ case statement.visibility }}
		  {{ when 'PUBLIC' }}
		    Veřejné
		  {{ when 'REQUEST' }}
		    Na žádost
		  {{ when 'SECRET' }}
		    Tajné
		  {{ else }}
		    {{statement.visibility}}
		{{ end }}
	      </td>
	  </tr>
      </thead>
      <tbody>
	 {{ if statement.naturalPersonBusinesses; if statement.naturalPersonBusinesses.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Podnikání nebo provozování jiné samostatné výdělečné činnosti</th>
	   </tr>
	   {{ for business in statement.naturalPersonBusinesses }}
	     <tr>
		 <td>{{business.subject}}</td>
		 <td>
		   {{ if business.address }}
		     {{business.address.municipality}}, {{business.address.street}} {{business.address.orientationNumber}}, {{business.address.zip}}
		   {{ end }}
		 </td>
		 <td>
		   {{ if business.businessMethod }}
		     {{ business.businessMethod.name }}
		   {{ end }}
		 </td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.legalBusinessAssociates; if statement.legalBusinessAssociates.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Společník nebo člen podnikající právnické osoby</th>
	   </tr>
	   {{ for business in statement.legalBusinessAssociates }}
	     <tr>
		 <td>
		   {{ if business.legalPerson }}
		     {{business.legalPerson.name}}, IČO {{business.legalPerson.identificationNumber}}
		   {{ end }}
		 </td>
		 <td>
		   {{ if business.legalPerson; if business.legalPerson.address }}
		     {{business.legalPerson.address.municipality}}, {{business.legalPerson.address.street}} {{business.legalPerson.address.orientationNumber}}, {{business.legalPerson.address.zip}}
		   {{ end; end }}
		 </td>
		 <td>
		   {{ if business.type }}
		     {{business.type.name}}
		   {{ end }}
		 </td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.organizationMember; if statement.organizationMember.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Člen statutárního orgánu, člen řídícího, dozorčího nebo kontrolního orgánu podnikající právnické osoby</th>
	   </tr>
	   {{ for business in statement.organizationMember }}
	     <tr>
		 <td>
		   {{ if business.legalPerson }}
		     {{business.legalPerson.name}}, IČO {{business.legalPerson.identificationNumber}}
		   {{ end }}
		 </td>
		 <td>
		   {{ if business.legalPerson; if business.legalPerson.address }}
		     {{business.legalPerson.address.municipality}}, {{business.legalPerson.address.street}} {{business.legalPerson.address.orientationNumber}}, {{business.legalPerson.address.zip}}
		   {{ end; end }}
		 </td>
		 <td>
		   {{ if business.type }}
		     {{business.type.name}}
		   {{ end }}
		 </td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.otherContracts; if statement.otherContracts.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Další činnost v pracovněprávním nebo obdobném vztahu nebo ve služebním poměru, nejde-li o vztah nebo poměr, v němž působí jako veřejný funkcionář</th>
	   </tr>
	   {{ for business in statement.otherContracts }}
	     <tr>
		 <td>{{business.name}}</td>
		 <td>
		   {{ if business.address }}
		     {{business.address.municipality}}, {{business.address.street}} {{business.address.orientationNumber}}, {{business.address.zip}}
		   {{ end }}
		 </td>
		 <td>
		   {{ if business.specification }}
		     {{business.specification}}
		   {{ else if business.type }}
		     {{business.type.name}}
		   {{ end }}
		 </td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.realtiesBefore; if statement.realtiesBefore.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Věci nemovité (předchozí)</th>
	   </tr>
	   {{ for realty in statement.realtiesBefore }}
	     <tr>
		 <td>
		   {{ if realty.type }}
		     {{ if realty.type.name }}
		       {{realty.type.name}}
		     {{ else }}
		       {{ case realty.type.type }}
			 {{ when 'LAND' }}
			   pozemek
			 {{ when 'BUILDING_WITH_LAND' }}
			   stavba jako součást pozemku, na němž je zřízena
			 {{ else }}
			   {{realty.type.type}}
		       {{ end }}
		     {{ end }}
		   {{ end }}
		 </td>
		 <td>{{ if realty.price }}{{realty.price}} kč{{ end }}</td>
		 <td>{{ if realty.acquisition }}{{realty.acquisition.name}}{{ end }}</td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.realties; if statement.realties.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Věci nemovité</th>
	   </tr>
	   {{ for realty in statement.realties }}
	     <tr>
		 <td>
		   {{ if realty.type }}
		     {{ if realty.type.name }}
		       {{realty.type.name}}
		     {{ else }}
		       {{ case realty.type.type }}
			 {{ when 'LAND' }}
			   pozemek
			 {{ when 'BUILDING_WITH_LAND' }}
			   stavba jako součást pozemku, na němž je zřízena
			 {{ else }}
			   {{realty.type.type}}
		       {{ end }}
		     {{ end }}
		   {{ end }}
		 </td>
		 <td>{{ if realty.price }}{{realty.price}} kč{{ end }}</td>
		 <td>{{ if realty.acquisition }}{{realty.acquisition.name}}{{ end }}</td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.commercialPapersBefore; if statement.commercialPapersBefore.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Cenné papíry, zaknihované cenné papíry nebo práva s nimi spojená (předchozí)</th>
	   </tr>
	   {{ for paper in statement.commercialPapersBefore }}
	     <tr>
		 <td>{{ if paper.commercialPaperType }}{{paper.commercialPaperType.name}}{{ end }}</td>
		 <td>&nbsp;</td>
		 <td>{{paper.issuer}}</td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.commercialPapers; if statement.commercialPapers.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Cenné papíry, zaknihované cenné papíry nebo práva s nimi spojená</th>
	   </tr>
	   {{ for paper in statement.commercialPapers }}
	     <tr>
		 <td>{{ if paper.commercialPaperType }}{{paper.commercialPaperType.name}}{{ end }}</td>
		 <td>&nbsp;</td>
		 <td>{{paper.issuer}}</td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
	 {{ if statement.chattels; if statement.chattels.size > 0 }}
	   <tr>
	       <th colspan=\"3\">Jiné věci movité</th>
	   </tr>
	   {{ for chattel in statement.chattels }}
	     <tr>
		 <td>{{ chattel.type ?? '???' }}</td>
		 <td>{{ if chattel.price }}{{chattel.price}} kč{{ end }}</td>
		 <td>{{ if chattel.chattelAcquisition }}{{chattel.chattelAcquisition.name}}{{ end }}</td>
	     </tr>
	   {{ end }}
	 {{ end; end }}
      </tbody>
  </table>
{{ end }}
{{ searching = 1 }}
{{ for wp in model.workingPositions }}
  {{ if searching && wp.workingPosition; if wp.workingPosition.visibility; if wp.workingPosition.visibility == 'SECRET' }}
    <p>Na tajná oznámení nelze nahlížet ani na základě žádosti podle zákona o střetu zájmů, ani na základě zákona upravujícího svobodný přístup k informacím.</p>
    {{ searching = 0 }}
  {{ end; end; end }}
{{ end }}"
    }
}
